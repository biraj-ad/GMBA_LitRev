---
title: "LiteratureReview_Git"
author: "Biraj Adhikari"
date: "5/3/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r installing required libraries}
#Package names
# Installing required packages if not installed yet

if("devtools" %in% rownames(installed.packages())   == FALSE){
  install.packages("devtools")}
library(devtools)

if("ggplot2" %in% rownames(installed.packages())   == FALSE){
  install.packages("ggplot2")}

if("dplyr" %in% rownames(installed.packages())   == FALSE){
  install.packages("dplyr")}

#for combining base and ggplot together
if("gridBase" %in% rownames(installed.packages())   == FALSE){
  install.packages("gridBase")}

#for network
if("igraph" %in% rownames(installed.packages())   == FALSE){
  install.packages("igraph")}

#for ggarrange
if("ggpubr" %in% rownames(installed.packages())   == FALSE){
  install.packages("ggpubr")}
#for sankey diagrams
if("networkD3" %in% rownames(installed.packages())   == FALSE){
  install.packages("networkD3")}

```

```{r loading libraries}
library(ggplot2)
library(networkD3)
library(dplyr)

```

FIGURE 7: Type of NCP studied
```{r}
ncp = read.csv('ncp_all_3May21.csv', header = TRUE, sep = ",")
ncp = ncp %>% filter(ecozone == "overall")

png(filename = "ncp_fig.png",            
  width = 1500,        
  height = 1000,
  res = 300,  
  
  ) 

ncp_fig = ncp %>% filter(ecozone =="overall") %>% ggplot(aes(x = reorder(NCP, -percent), y = percent, fill = category)) + geom_bar(stat= "identity") +
  scale_fill_manual(values = c("#b2df8a", "#ffb3b3", "#66cccc")) + 
  
              labs(x = "NCPs", y = "% of occurance", fill = "NCP Categories") + 
  scale_y_continuous(labels = scales::percent) +
              theme(legend.position = "bottom",
                    legend.title = element_text(size = 6),
                    legend.key.size = unit(0.5, 'cm'),
                    legend.text = element_text(size = 5),
                    axis.title.x = element_text(size = 7),
                    axis.title.y = element_text(size = 7),
                    axis.text = element_text(size = 5),
                    panel.background = element_rect(fill = "white"),
                    panel.grid.major = element_line(size = 0.15, linetype = "solid", colour = "#F0F0F0"),
                    panel.grid.minor = element_line(size = 0.15, linetype = "solid", colour = "#F0F0F0"))+
              coord_flip() 
 
ncp_fig
dev.off() 
```
COMBINED FIGURE 10 and 11: DIRECT AND INDIRECT DRIVERS
```{r}
ncp = read.csv('drivers.csv', header = TRUE, sep = ",")



```

